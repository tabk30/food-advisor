service: food-advisor

plugins:
 - serverless-plugin-typescript
 - serverless-plugin-optimize
 - serverless-offline

provider:
 name: aws
 runtime: nodejs16.x
 region: ap-southeast-1
 vpc: 
  securityGroupIds:
    - sg-0d79607ba3ba8f1af
  subnetIds:
    - subnet-04694cd6021643278
 environment:
  dbname: 'foodAdvisorDB'
  dbtype: 'engine'
  dbhost: 'localhost'
  dbport: '5432'
  dbusername: 'postgres'
  dbpassword: 'changeme'
  dbInstanceIdentifier: 'foodAdvisorDB'

functions:
 main: # The name of the lambda function
   # The module 'handler' is exported in the file 'src/lambda'
   handler: ./src/lambda.handler
   events:
     - http:
        method: any
        path: /{any+}
resources:
 Resources: